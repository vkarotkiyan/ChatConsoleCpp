## ChatConsoleCpp

Учебный консольный чат, обладающий следующей функциональностью:
* консольная программа
* регистрация пользователей - логин, пароль, имя
* вход в чат по логину/паролю
* обмен сообщениями между всеми пользователями чата одновременно
* отправка сообщений конкретному пользователю
* обработка исключений

При разработке использовались контейнеры стандартной библиотеки шаблонов (Задание 16.9.1 (PJ-04)).

Добавлены функции для сохранения состояния чата (сохранение пользователей и сообщений) в файлы и считывания состояния чата из файлов: `writeChat()` и `readChat()` (Задание 18.12.1 (HW-03)). Файлы `users.txt` и `messages.txt` доступны только тому пользователю, который запустил программу, и расположены в его домашнем каталоге. Создан `Makefile`.

Классы:
* `User` - класс для описания пользователя со строковыми полями: логин (`_login`), пароль (`_password`), имя (`_name`)
* `Message` - класс для сообщения со строковыми полями: текст сообщения (`_text`) и `_from`, `_to` для хранения логинов и полем `_dateTime` типа `time_t` для хранения времени сообщения
* `Chat` - содержит динамические массивы пользователей (`_users`) и сообщений (`_messages`) и соответствующие методы для обработки и отображения пользователей и сообщений
* Обработка исключений
  - `UserLoginExc` - при попытке регистрации пользователей с одинаковыми логинами
  - `UserNameExc` - при попытке регистрации пользователей с одинаковыми именами

Объявление класса `Chat`
```cpp
class Chat {
public:
	Chat();
	~Chat() = default;
	bool isWork() const;
	void initMenu(); // Начальное меню
	void login(); // Аутентификация пользователя
	void signUp(); // Регистрация пользователя
	void showUserList() const; // Отображение списка пользователей
	void userMenu(); // Меню авторизованного пользователя
	std::shared_ptr<User> getUserByLogin(const std::string&) const;
	std::shared_ptr<User> getUserByName(const std::string&) const;
	std::shared_ptr<User> getCurrentUser() const;
	std::shared_ptr<User> getUserForChat() const;
	void setUserForChat(); // Выбор пользователя для общения
	void addMessage(); // Ввод сообщения
	void showChat() const; // Отображение списка сообщений
	void writeChat(); // Запись данных чата в файлы
	void readChat(); // Чтение данных чата из файлов
private:
	bool _isWork = false;
	std::vector<std::shared_ptr<User>> _users; // Массив пользователей
	std::vector<Message> _messages; // Массив сообщений
	std::shared_ptr<User> _currentUser = nullptr; // Активный пользователь
	std::shared_ptr<User> _userForChat = nullptr; // Пользователь, с которым ведется общение
};
```
Функции `initMenu()` и `userMenu()` реализуют общую логику приложения и пользовательский интерфейс.

Функции `showUserList()` и `showChat()` отображают списки пользователей и сообщений соответственно.

При аутентификации пользователя (функция `login()`) указатель `_currentUser` указывает на активного пользователя. Таким образом он попадает в общий чат. При определении указателя `_userForChat` (функция `setUserForChat()`) пользователь попадает в чат с конкретным пользователем.

### Замечание
Реализовано кроссплатформенное решение. Проект компилируется в Windows и Linux. В Windows и Linux латинские и кириллические символы вводятся и отображаются корректно. Используется кодировка UTF-8. Для преобразования ввода пользователя в Windows используется функция cp1251toUtf8().
